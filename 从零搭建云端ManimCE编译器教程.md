# ä»é›¶å¼€å§‹æ­å»ºäº‘ç«¯ManimCEç¼–è¯‘å™¨å®Œæ•´æ•™ç¨‹

## ç›®å½•
1. [å‰è¨€](#å‰è¨€)
2. [æ–¹æ¡ˆæ¦‚è¿°](#æ–¹æ¡ˆæ¦‚è¿°)
3. [æ–¹æ¡ˆä¸€ï¼šä½¿ç”¨Binderçš„äº‘ç«¯è§£å†³æ–¹æ¡ˆï¼ˆæ¨èæ–°æ‰‹ï¼‰](#æ–¹æ¡ˆä¸€ä½¿ç”¨binderçš„äº‘ç«¯è§£å†³æ–¹æ¡ˆæ¨èæ–°æ‰‹)
4. [æ–¹æ¡ˆäºŒï¼šæœ¬åœ°Dockerç¯å¢ƒæ­å»º](#æ–¹æ¡ˆäºŒæœ¬åœ°dockerç¯å¢ƒæ­å»º)
5. [æ–¹æ¡ˆä¸‰ï¼šæœ¬åœ°Pythonç¯å¢ƒæ­å»º](#æ–¹æ¡ˆä¸‰æœ¬åœ°pythonç¯å¢ƒæ­å»º)
6. [æ–¹æ¡ˆå››ï¼šè‡ªå»ºäº‘ç«¯æœåŠ¡å™¨éƒ¨ç½²](#æ–¹æ¡ˆå››è‡ªå»ºäº‘ç«¯æœåŠ¡å™¨éƒ¨ç½²)
7. [å¸¸è§é—®é¢˜è§£å†³](#å¸¸è§é—®é¢˜è§£å†³)
8. [è¿›é˜¶ä½¿ç”¨æŠ€å·§](#è¿›é˜¶ä½¿ç”¨æŠ€å·§)

---

## å‰è¨€

ManimCEï¼ˆManim Community Editionï¼‰æ˜¯ä¸€ä¸ªå¼ºå¤§çš„æ•°å­¦åŠ¨ç”»åˆ¶ä½œåº“ï¼Œä½†å®‰è£…é…ç½®å¯¹æ–°æ‰‹æ¥è¯´è¾ƒä¸ºå¤æ‚ã€‚æœ¬æ•™ç¨‹å°†æ•™æ‚¨å¦‚ä½•æ­å»ºä¸€ä¸ªäº‘ç«¯ç¼–è¯‘ç¯å¢ƒï¼Œè®©æ‚¨å¯ä»¥åœ¨æµè§ˆå™¨ä¸­ç›´æ¥ç¼–å†™å’Œè¿è¡ŒManimåŠ¨ç”»ï¼Œæ— éœ€å¤æ‚çš„æœ¬åœ°é…ç½®ã€‚

### ä»€ä¹ˆæ˜¯ManimCEï¼Ÿ
- ä¸€ä¸ªç”¨Pythonç¼–å†™æ•°å­¦åŠ¨ç”»çš„åº“
- å¯ä»¥åˆ¶ä½œé«˜è´¨é‡çš„æ•™å­¦åŠ¨ç”»
- æ”¯æŒLaTeXæ•°å­¦å…¬å¼æ¸²æŸ“
- å¹¿æ³›ç”¨äºæ•°å­¦æ•™è‚²è§†é¢‘åˆ¶ä½œ

### ä¸ºä»€ä¹ˆéœ€è¦äº‘ç«¯ç¼–è¯‘å™¨ï¼Ÿ
- é¿å…å¤æ‚çš„æœ¬åœ°ç¯å¢ƒé…ç½®
- è·¨å¹³å°ä½¿ç”¨ï¼Œåªéœ€æµè§ˆå™¨
- å¿«é€Ÿä½“éªŒå’Œå­¦ä¹ 
- å›¢é˜Ÿåä½œæ›´æ–¹ä¾¿

---

## æ–¹æ¡ˆæ¦‚è¿°

æˆ‘ä»¬æä¾›å››ç§æ­å»ºæ–¹æ¡ˆï¼ŒæŒ‰éš¾åº¦é€’å¢ï¼š

| æ–¹æ¡ˆ | éš¾åº¦ | é€‚ç”¨åœºæ™¯ | ä¼˜ç‚¹ | ç¼ºç‚¹ |
|------|------|----------|------|------|
| Binderäº‘ç«¯ | â­ | å¿«é€Ÿä½“éªŒ | é›¶é…ç½®ï¼Œå³å¼€å³ç”¨ | ä¸´æ—¶ç¯å¢ƒï¼Œæ— æ³•æŒä¹…ä¿å­˜ |
| Dockeræœ¬åœ° | â­â­ | ç¨³å®šå¼€å‘ | ç¯å¢ƒä¸€è‡´ï¼Œæ˜“éƒ¨ç½² | éœ€è¦å®‰è£…Docker |
| Pythonæœ¬åœ° | â­â­â­ | é•¿æœŸå¼€å‘ | è‡ªç”±åº¦é«˜ï¼Œæ€§èƒ½å¥½ | é…ç½®å¤æ‚ |
| è‡ªå»ºæœåŠ¡å™¨ | â­â­â­â­ | å›¢é˜Ÿä½¿ç”¨ | å®Œå…¨æ§åˆ¶ï¼Œå¯å®šåˆ¶ | éœ€è¦æœåŠ¡å™¨è¿ç»´çŸ¥è¯† |

---

## æ–¹æ¡ˆä¸€ï¼šä½¿ç”¨Binderçš„äº‘ç«¯è§£å†³æ–¹æ¡ˆï¼ˆæ¨èæ–°æ‰‹ï¼‰

### 1.1 ä»€ä¹ˆæ˜¯Binderï¼Ÿ
Binderæ˜¯ä¸€ä¸ªå…è´¹çš„äº‘ç«¯JupyteræœåŠ¡ï¼Œå¯ä»¥ç›´æ¥è¿è¡ŒGitHubä¸Šçš„ç¬”è®°æœ¬é¡¹ç›®ã€‚

### 1.2 å¿«é€Ÿå¼€å§‹ï¼ˆ5åˆ†é’Ÿä¸Šæ‰‹ï¼‰

#### æ­¥éª¤1ï¼šè®¿é—®ç°æˆçš„ç¯å¢ƒ
ç‚¹å‡»è¿™ä¸ªé“¾æ¥ç›´æ¥ä½“éªŒï¼š
```
https://mybinder.org/v2/gh/shiloong/Cloud-Manim-Compiler/HEAD?urlpath=/doc/tree/Cloud-Manim-Compiler-JupyterLab.ipynb
```

#### æ­¥éª¤2ï¼šç­‰å¾…ç¯å¢ƒå¯åŠ¨
- é¦–æ¬¡å¯åŠ¨éœ€è¦3-5åˆ†é’Ÿ
- çœ‹åˆ°JupyterLabç•Œé¢å³å¯å¼€å§‹ä½¿ç”¨

#### æ­¥éª¤3ï¼šè¿è¡Œç¬¬ä¸€ä¸ªåŠ¨ç”»
åœ¨ç¬”è®°æœ¬ä¸­è¿è¡Œä»¥ä¸‹ä»£ç ï¼š
```python
%%manim -qm FirstScene

class FirstScene(Scene):
    def construct(self):
        # åˆ›å»ºä¸€ä¸ªåœ†å½¢
        circle = Circle(color=BLUE)
        # æ˜¾ç¤ºåœ†å½¢


        
        self.play(Create(circle))
        # ç­‰å¾…ä¸€ç§’
        self.wait()
```

### 1.3 åˆ›å»ºè‡ªå·±çš„Binderé¡¹ç›®

å¦‚æœæƒ³è¦è‡ªå®šä¹‰ç¯å¢ƒï¼Œå¯ä»¥åˆ›å»ºè‡ªå·±çš„GitHubä»“åº“ï¼š

#### æ­¥éª¤1ï¼šåˆ›å»ºGitHubä»“åº“
1. ç™»å½•GitHubï¼Œåˆ›å»ºæ–°ä»“åº“ï¼ˆå¦‚ï¼šmy-manim-binderï¼‰
2. é€‰æ‹©Publicï¼ˆå…¬å¼€ï¼‰ä»“åº“

#### æ­¥éª¤2ï¼šåˆ›å»ºé…ç½®æ–‡ä»¶
åœ¨ä»“åº“æ ¹ç›®å½•åˆ›å»ºä»¥ä¸‹æ–‡ä»¶ï¼š

**æ–‡ä»¶ï¼š`environment.yml`**
```yaml
name: manim-env
channels:
  - conda-forge
  - default
dependencies:
  - python=3.9
  - pip
  - notebook
  - jupyterlab
  - numpy
  - matplotlib
  - pip:
    - manim
    - jupyter-server-proxy
```

**æ–‡ä»¶ï¼š`postBuild`**
```bash
#!/bin/bash
# å®‰è£…ä¸­æ–‡å­—ä½“
sudo apt-get update
sudo apt-get install -y fonts-wqy-zenhei fonts-wqy-microhei
```

**æ–‡ä»¶ï¼š`README.md`**
```markdown
# æˆ‘çš„Manimäº‘ç«¯ç¯å¢ƒ

[![Binder](https://mybinder.org/badge_logo.svg)](https://mybinder.org/v2/gh/ä½ çš„ç”¨æˆ·å/my-manim-binder/HEAD?urlpath=lab)

ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®å¯åŠ¨ç¯å¢ƒï¼
```

#### æ­¥éª¤3ï¼šåˆ›å»ºç¤ºä¾‹ç¬”è®°æœ¬
åˆ›å»ºæ–‡ä»¶ï¼š`examples.ipynb`ï¼ŒåŒ…å«ä¸€äº›åŸºç¡€ç¤ºä¾‹ã€‚

#### æ­¥éª¤4ï¼šè·å–Binderé“¾æ¥
å°†READMEä¸­çš„é“¾æ¥æ”¹ä¸ºï¼š
```
https://mybinder.org/v2/gh/ä½ çš„ç”¨æˆ·å/my-manim-binder/HEAD?urlpath=lab
```

---

## æ–¹æ¡ˆäºŒï¼šæœ¬åœ°Dockerç¯å¢ƒæ­å»º

### 2.1 å‰ç½®è¦æ±‚
- å®‰è£…Docker Desktopï¼ˆWindows/Macï¼‰æˆ–Docker Engineï¼ˆLinuxï¼‰
- åŸºæœ¬çš„å‘½ä»¤è¡Œæ“ä½œçŸ¥è¯†

### 2.2 å®‰è£…Docker

#### Windowsç³»ç»Ÿï¼š
1. ä¸‹è½½Docker Desktopï¼šhttps://www.docker.com/products/docker-desktop/
2. å®‰è£…å¹¶é‡å¯ç”µè„‘
3. å¯åŠ¨Docker Desktop

#### Macç³»ç»Ÿï¼š
```bash
# ä½¿ç”¨Homebrewå®‰è£…
brew install --cask docker
```

#### Linuxç³»ç»Ÿï¼š
```bash
# Ubuntu/Debian
sudo apt update
sudo apt install docker.io docker-compose
sudo systemctl start docker
sudo usermod -aG docker $USER
```

### 2.3 åˆ›å»ºDockerfile

åˆ›å»ºå·¥ä½œç›®å½•ï¼š
```bash
mkdir manim-docker
cd manim-docker
```

åˆ›å»º`Dockerfile`ï¼š
```dockerfile
# åŸºäºå®˜æ–¹ManimCEé•œåƒ
FROM manimcommunity/manim:v0.18.0

# åˆ‡æ¢åˆ°rootç”¨æˆ·å®‰è£…ä¾èµ–
USER root

# å®‰è£…ä¸­æ–‡å­—ä½“å’Œå…¶ä»–ä¾èµ–
RUN apt-get update && apt-get install -y --no-install-recommends \
    fonts-wqy-zenhei \
    fonts-wqy-microhei \
    fonts-arphic-ukai \
    fonts-arphic-uming \
    wget \
    && apt-get clean \
    && rm -rf /var/lib/apt/lists/*

# å®‰è£…Jupyterç›¸å…³åŒ…
RUN pip install --no-cache-dir \
    notebook \
    jupyterlab \
    ipywidgets \
    matplotlib \
    numpy

# åˆ›å»ºå·¥ä½œç›®å½•
RUN mkdir -p /manim/notebooks
WORKDIR /manim

# åˆ‡æ¢å›manimç”¨æˆ·
ARG NB_USER=manimuser
USER ${NB_USER}

# æš´éœ²Jupyterç«¯å£
EXPOSE 8888

# å¯åŠ¨å‘½ä»¤
CMD ["jupyter", "lab", "--ip=0.0.0.0", "--port=8888", "--no-browser", "--allow-root", "--NotebookApp.token=''", "--NotebookApp.password=''"]
```

### 2.4 æ„å»ºå’Œè¿è¡Œ

#### æ„å»ºé•œåƒï¼š
```bash
docker build -t my-manim-jupyter .
```

#### è¿è¡Œå®¹å™¨ï¼š
```bash
docker run -p 8888:8888 -v ${PWD}/notebooks:/manim/notebooks my-manim-jupyter
```

#### è®¿é—®ç¯å¢ƒï¼š
æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š`http://localhost:8888`

### 2.5 åˆ›å»ºdocker-compose.ymlï¼ˆå¯é€‰ï¼‰

ä¸ºäº†æ–¹ä¾¿ç®¡ç†ï¼Œåˆ›å»º`docker-compose.yml`ï¼š
```yaml
version: '3.8'
services:
  manim-jupyter:
    build: .
    ports:
      - "8888:8888"
    volumes:
      - ./notebooks:/manim/notebooks
      - ./outputs:/manim/media
    environment:
      - JUPYTER_ENABLE_LAB=yes
```

ä½¿ç”¨æ–¹æ³•ï¼š
```bash
# å¯åŠ¨
docker-compose up

# åå°è¿è¡Œ
docker-compose up -d

# åœæ­¢
docker-compose down
```

---

## æ–¹æ¡ˆä¸‰ï¼šæœ¬åœ°Pythonç¯å¢ƒæ­å»º

### 3.1 ç³»ç»Ÿè¦æ±‚
- Python 3.8-3.11
- FFmpegï¼ˆç”¨äºè§†é¢‘å¤„ç†ï¼‰
- LaTeXï¼ˆç”¨äºæ•°å­¦å…¬å¼ï¼‰

### 3.2 å®‰è£…åŸºç¡€ä¾èµ–

#### Windowsç³»ç»Ÿï¼š

**å®‰è£…Pythonï¼š**
1. ä» https://python.org ä¸‹è½½Python 3.9
2. å®‰è£…æ—¶å‹¾é€‰"Add to PATH"

**å®‰è£…FFmpegï¼š**
```powershell
# ä½¿ç”¨Chocolatey
choco install ffmpeg

# æˆ–ä¸‹è½½å¹¶æ‰‹åŠ¨é…ç½®PATH
# https://ffmpeg.org/download.html
```

**å®‰è£…LaTeXï¼š**
```powershell
# å®‰è£…MiKTeX
choco install miktex
```

#### Macç³»ç»Ÿï¼š
```bash
# å®‰è£…Homebrewï¼ˆå¦‚æœæ²¡æœ‰ï¼‰
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# å®‰è£…ä¾èµ–
brew install python@3.9 ffmpeg
brew install --cask mactex
```

#### Linuxç³»ç»Ÿï¼š
```bash
# Ubuntu/Debian
sudo apt update
sudo apt install python3 python3-pip ffmpeg texlive-full

# CentOS/RHEL
sudo yum install python3 python3-pip ffmpeg texlive
```

### 3.3 åˆ›å»ºPythonç¯å¢ƒ

#### ä½¿ç”¨venvï¼š
```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv manim-env

# æ¿€æ´»ç¯å¢ƒ
# Windows:
manim-env\Scripts\activate
# Mac/Linux:
source manim-env/bin/activate
```

#### ä½¿ç”¨condaï¼ˆæ¨èï¼‰ï¼š
```bash
# å®‰è£…Miniconda
# ä¸‹è½½ï¼šhttps://docs.conda.io/en/latest/miniconda.html

# åˆ›å»ºç¯å¢ƒ
conda create -n manim-env python=3.9
conda activate manim-env
```

### 3.4 å®‰è£…ManimCEå’ŒJupyter

```bash
# å®‰è£…ManimCE
pip install manim

# å®‰è£…Jupyter
pip install jupyter jupyterlab

# å®‰è£…é¢å¤–ä¾èµ–
pip install matplotlib numpy scipy pillow
```

### 3.5 é…ç½®ä¸­æ–‡å­—ä½“

åˆ›å»ºå­—ä½“å®‰è£…è„šæœ¬`install_fonts.py`ï¼š
```python
import os
import sys
import platform
import subprocess
import requests
from pathlib import Path

def install_chinese_fonts():
    """å®‰è£…ä¸­æ–‡å­—ä½“"""
    system = platform.system()
    
    if system == "Windows":
        font_dir = "C:\\Windows\\Fonts"
    elif system == "Darwin":  # macOS
        font_dir = "/Library/Fonts"
    elif system == "Linux":
        font_dir = os.path.expanduser("~/.local/share/fonts")
        os.makedirs(font_dir, exist_ok=True)
    
    fonts = [
        ("SimHei.ttf", "https://github.com/StellarCN/scp_zh/raw/master/fonts/SimHei.ttf"),
        ("SourceHanSans.ttc", "https://github.com/adobe-fonts/source-han-sans/raw/release/OTC/SourceHanSans.ttc")
    ]
    
    for font_name, url in fonts:
        font_path = os.path.join(font_dir, font_name)
        if not os.path.exists(font_path):
            print(f"ä¸‹è½½å­—ä½“: {font_name}")
            try:
                response = requests.get(url)
                with open(font_path, 'wb') as f:
                    f.write(response.content)
                print(f"å®‰è£…æˆåŠŸ: {font_name}")
            except Exception as e:
                print(f"å®‰è£…å¤±è´¥: {e}")
    
    # Linuxéœ€è¦æ›´æ–°å­—ä½“ç¼“å­˜
    if system == "Linux":
        subprocess.run(["fc-cache", "-f", "-v"])

if __name__ == "__main__":
    install_chinese_fonts()
```

è¿è¡Œå­—ä½“å®‰è£…ï¼š
```bash
python install_fonts.py
```

### 3.6 å¯åŠ¨Jupyter

```bash
# å¯åŠ¨JupyterLab
jupyter lab

# æˆ–å¯åŠ¨Jupyter Notebook
jupyter notebook
```

### 3.7 æµ‹è¯•å®‰è£…

åˆ›å»ºæµ‹è¯•ç¬”è®°æœ¬ï¼Œè¿è¡Œï¼š
```python
%%manim -qm TestScene

class TestScene(Scene):
    def construct(self):
        # æµ‹è¯•åŸºæœ¬å›¾å½¢
        circle = Circle(color=BLUE)
        square = Square(color=RED)
        
        # æµ‹è¯•ä¸­æ–‡æ–‡æœ¬
        text = Text("ä½ å¥½ï¼ŒManimï¼", font="SimHei").scale(0.8)
        
        self.play(Create(circle))
        self.wait()
        self.play(Transform(circle, square))
        self.wait()
        self.play(Write(text))
        self.wait()
```

---

## æ–¹æ¡ˆå››ï¼šè‡ªå»ºäº‘ç«¯æœåŠ¡å™¨éƒ¨ç½²

### 4.1 æœåŠ¡å™¨è¦æ±‚
- äº‘æœåŠ¡å™¨ï¼ˆé˜¿é‡Œäº‘ã€è…¾è®¯äº‘ã€AWSç­‰ï¼‰
- 2æ ¸4Gå†…å­˜ä»¥ä¸Š
- Ubuntu 20.04 LTS
- å…¬ç½‘IP

### 4.2 æœåŠ¡å™¨åŸºç¡€é…ç½®

#### è¿æ¥æœåŠ¡å™¨ï¼š
```bash
ssh root@ä½ çš„æœåŠ¡å™¨IP
```

#### æ›´æ–°ç³»ç»Ÿï¼š
```bash
apt update && apt upgrade -y
```

#### å®‰è£…Dockerï¼š
```bash
curl -fsSL https://get.docker.com -o get-docker.sh
sh get-docker.sh
systemctl start docker
systemctl enable docker
```

### 4.3 éƒ¨ç½²ManimCEç¯å¢ƒ

#### åˆ›å»ºéƒ¨ç½²ç›®å½•ï¼š
```bash
mkdir -p /opt/manim-jupyter
cd /opt/manim-jupyter
```

#### åˆ›å»ºDockerfileï¼š
```dockerfile
FROM manimcommunity/manim:v0.18.0

USER root

# å®‰è£…ä¾èµ–
RUN apt-get update && apt-get install -y \
    fonts-wqy-zenhei \
    fonts-wqy-microhei \
    nginx \
    supervisor \
    && apt-get clean

# å®‰è£…PythonåŒ…
RUN pip install --no-cache-dir \
    jupyterlab \
    jupyter-server-proxy \
    nbconvert \
    voila

# é…ç½®Jupyter
RUN jupyter lab --generate-config
COPY jupyter_lab_config.py /root/.jupyter/

# å¤åˆ¶é…ç½®æ–‡ä»¶
COPY nginx.conf /etc/nginx/nginx.conf
COPY supervisord.conf /etc/supervisor/conf.d/supervisord.conf

# åˆ›å»ºå·¥ä½œç›®å½•
RUN mkdir -p /workspace
WORKDIR /workspace

EXPOSE 80

CMD ["/usr/bin/supervisord", "-c", "/etc/supervisor/conf.d/supervisord.conf"]
```

#### åˆ›å»ºJupyteré…ç½®ï¼š
åˆ›å»º`jupyter_lab_config.py`ï¼š
```python
c.ServerApp.ip = '0.0.0.0'
c.ServerApp.port = 8888
c.ServerApp.open_browser = False
c.ServerApp.allow_root = True
c.ServerApp.token = ''
c.ServerApp.password = ''
c.ServerApp.allow_remote_access = True
```

#### åˆ›å»ºNginxé…ç½®ï¼š
åˆ›å»º`nginx.conf`ï¼š
```nginx
events {
    worker_connections 1024;
}

http {
    upstream jupyter {
        server 127.0.0.1:8888;
    }
    
    server {
        listen 80;
        server_name _;
        
        location / {
            proxy_pass http://jupyter;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
            
            # WebSocketæ”¯æŒ
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "upgrade";
        }
    }
}
```

#### åˆ›å»ºSupervisoré…ç½®ï¼š
åˆ›å»º`supervisord.conf`ï¼š
```ini
[supervisord]
nodaemon=true

[program:nginx]
command=/usr/sbin/nginx -g "daemon off;"
autostart=true
autorestart=true

[program:jupyter]
command=jupyter lab --config=/root/.jupyter/jupyter_lab_config.py
autostart=true
autorestart=true
user=root
directory=/workspace
```

### 4.4 æ„å»ºå’Œè¿è¡Œ

```bash
# æ„å»ºé•œåƒ
docker build -t manim-server .

# è¿è¡Œå®¹å™¨
docker run -d \
  --name manim-jupyter \
  -p 80:80 \
  -v $(pwd)/notebooks:/workspace \
  --restart unless-stopped \
  manim-server
```

### 4.5 é…ç½®åŸŸåå’ŒHTTPSï¼ˆå¯é€‰ï¼‰

#### å®‰è£…Certbotï¼š
```bash
apt install certbot python3-certbot-nginx
```

#### è·å–SSLè¯ä¹¦ï¼š
```bash
certbot --nginx -d ä½ çš„åŸŸå.com
```

### 4.6 è®¾ç½®è®¿é—®æ§åˆ¶

ä¸ºäº†å®‰å…¨ï¼Œå¯ä»¥æ·»åŠ è®¤è¯ï¼š

åˆ›å»ºå¯†ç æ–‡ä»¶ï¼š
```bash
apt install apache2-utils
htpasswd -c /etc/nginx/.htpasswd ç”¨æˆ·å
```

ä¿®æ”¹nginxé…ç½®æ·»åŠ è®¤è¯ï¼š
```nginx
location / {
    auth_basic "Manim Jupyter";
    auth_basic_user_file /etc/nginx/.htpasswd;
    # ... å…¶ä»–é…ç½®
}
```

---

## å¸¸è§é—®é¢˜è§£å†³

### 5.1 ä¸­æ–‡å­—ä½“é—®é¢˜

**é—®é¢˜ï¼š** ä¸­æ–‡æ˜¾ç¤ºä¸ºæ–¹å—æˆ–ä¹±ç 

**è§£å†³æ–¹æ¡ˆï¼š**
```python
# æ–¹æ³•1ï¼šæŒ‡å®šå­—ä½“
text = Text("ä¸­æ–‡æ–‡æœ¬", font="SimHei")

# æ–¹æ³•2ï¼šé…ç½®matplotlib
import matplotlib.pyplot as plt
plt.rcParams['font.sans-serif'] = ['SimHei', 'DejaVu Sans']
plt.rcParams['axes.unicode_minus'] = False

# æ–¹æ³•3ï¼šä½¿ç”¨TexTemplate
from manim import TexTemplate
template = TexTemplate()
template.add_to_preamble(r"\usepackage{xeCJK}")
```

### 5.2 FFmpegç›¸å…³é—®é¢˜

**é—®é¢˜ï¼š** è§†é¢‘æ¸²æŸ“å¤±è´¥

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# æ£€æŸ¥FFmpegå®‰è£…
ffmpeg -version

# é‡æ–°å®‰è£…FFmpeg
# Windows
choco install ffmpeg
# Mac
brew install ffmpeg
# Linux
sudo apt install ffmpeg
```

### 5.3 LaTeXé—®é¢˜

**é—®é¢˜ï¼š** æ•°å­¦å…¬å¼æ¸²æŸ“å¤±è´¥

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# å®‰è£…å®Œæ•´LaTeX
# Windows: å®‰è£…MiKTeX
# Mac: brew install --cask mactex
# Linux: sudo apt install texlive-full

# é…ç½®Manimä½¿ç”¨LaTeX
from manim import config
config.tex_template.add_to_preamble(r"\usepackage{amsmath,amsfonts}")
```

### 5.4 å†…å­˜ä¸è¶³é—®é¢˜

**é—®é¢˜ï¼š** æ¸²æŸ“å¤§å‹åŠ¨ç”»æ—¶å†…å­˜ä¸è¶³

**è§£å†³æ–¹æ¡ˆï¼š**
1. é™ä½è§†é¢‘è´¨é‡ï¼šä½¿ç”¨`-ql`ä»£æ›¿`-qh`
2. åˆ†æ®µæ¸²æŸ“ï¼šå°†é•¿åŠ¨ç”»æ‹†åˆ†ä¸ºå¤šä¸ªåœºæ™¯
3. å¢åŠ è™šæ‹Ÿå†…å­˜æˆ–å‡çº§ç¡¬ä»¶

### 5.5 æƒé™é—®é¢˜

**é—®é¢˜ï¼š** Dockerå®¹å™¨æƒé™é”™è¯¯

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# æ–¹æ³•1ï¼šä½¿ç”¨ç”¨æˆ·å‘½åç©ºé—´
docker run --user $(id -u):$(id -g) ...

# æ–¹æ³•2ï¼šä¿®æ”¹æ–‡ä»¶æƒé™
sudo chown -R $USER:$USER ./notebooks
```

---

## è¿›é˜¶ä½¿ç”¨æŠ€å·§

### 6.1 è‡ªå®šä¹‰é…ç½®

åˆ›å»º`manim.cfg`é…ç½®æ–‡ä»¶ï¼š
```ini
[CLI]
video_dir = ./videos
images_dir = ./images
tex_dir = ./tex
log_dir = ./logs

[render]
fps = 60
resolution = 1080p
```

### 6.2 æ‰¹é‡æ¸²æŸ“è„šæœ¬

åˆ›å»º`batch_render.py`ï¼š
```python
import os
import subprocess

scenes = [
    ("scene1.py", "Scene1"),
    ("scene2.py", "Scene2"),
    # æ·»åŠ æ›´å¤šåœºæ™¯
]

for file, scene in scenes:
    cmd = f"manim -qh {file} {scene}"
    print(f"æ¸²æŸ“: {scene}")
    subprocess.run(cmd, shell=True)
    print(f"å®Œæˆ: {scene}")
```

### 6.3 è‡ªåŠ¨éƒ¨ç½²è„šæœ¬

åˆ›å»º`deploy.sh`ï¼š
```bash
#!/bin/bash

# æ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# é‡æ–°æ„å»ºé•œåƒ
docker build -t manim-server .

# åœæ­¢æ—§å®¹å™¨
docker stop manim-jupyter

# å¯åŠ¨æ–°å®¹å™¨
docker run -d \
  --name manim-jupyter \
  -p 80:80 \
  -v $(pwd)/notebooks:/workspace \
  --restart unless-stopped \
  manim-server

echo "éƒ¨ç½²å®Œæˆï¼"
```

### 6.4 ç›‘æ§å’Œæ—¥å¿—

#### æŸ¥çœ‹å®¹å™¨æ—¥å¿—ï¼š
```bash
docker logs -f manim-jupyter
```

#### ç›‘æ§èµ„æºä½¿ç”¨ï¼š
```bash
docker stats manim-jupyter
```

#### è®¾ç½®æ—¥å¿—è½®è½¬ï¼š
```bash
# åœ¨docker runæ—¶æ·»åŠ æ—¥å¿—é…ç½®
--log-driver json-file \
--log-opt max-size=10m \
--log-opt max-file=3
```

---

## æ€»ç»“

æœ¬æ•™ç¨‹æä¾›äº†å››ç§ä¸åŒéš¾åº¦çš„ManimCEäº‘ç«¯ç¼–è¯‘å™¨æ­å»ºæ–¹æ¡ˆï¼š

1. **Binderæ–¹æ¡ˆ**ï¼šé€‚åˆå¿«é€Ÿä½“éªŒï¼Œé›¶é…ç½®
2. **Dockeræ–¹æ¡ˆ**ï¼šé€‚åˆç¨³å®šå¼€å‘ï¼Œç¯å¢ƒä¸€è‡´
3. **Pythonæ–¹æ¡ˆ**ï¼šé€‚åˆæ·±åº¦å®šåˆ¶ï¼Œæ€§èƒ½æœ€ä½³
4. **æœåŠ¡å™¨æ–¹æ¡ˆ**ï¼šé€‚åˆå›¢é˜Ÿåä½œï¼Œä¸“ä¸šéƒ¨ç½²

é€‰æ‹©é€‚åˆæ‚¨éœ€æ±‚çš„æ–¹æ¡ˆï¼ŒæŒ‰ç…§æ•™ç¨‹ä¸€æ­¥æ­¥æ“ä½œï¼Œå³å¯æ‹¥æœ‰è‡ªå·±çš„ManimCEäº‘ç«¯ç¼–è¯‘ç¯å¢ƒï¼

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·å‚è€ƒå¸¸è§é—®é¢˜è§£å†³éƒ¨åˆ†ï¼Œæˆ–åœ¨GitHubä»“åº“æäº¤Issueã€‚

---

**ç¥æ‚¨ä½¿ç”¨æ„‰å¿«ï¼å¼€å§‹åˆ›ä½œç²¾å½©çš„æ•°å­¦åŠ¨ç”»å§ï¼** ğŸ¬âœ¨
